// Code generated by Wire. DO NOT EDIT.

//go:generate go run github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package inject

import (
	"context"
	"io.github.tuanictu97/api/internal/module/sys"
	api2 "io.github.tuanictu97/api/internal/module/sys/api"
	biz2 "io.github.tuanictu97/api/internal/module/sys/biz"
	dao2 "io.github.tuanictu97/api/internal/module/sys/dao"
	"io.github.tuanictu97/api/internal/x/utilx"
)

// Injectors from wire.go:

func BuildInjector(ctx context.Context) (*Injector, func(), error) {
	auther, cleanup, err := InitAuth(ctx)
	if err != nil {
		return nil, nil, err
	}
	cacher, cleanup2, err := InitCache(ctx)
	if err != nil {
		cleanup()
		return nil, nil, err
	}
	db, cleanup3, err := InitDB(ctx)
	if err != nil {
		cleanup2()
		cleanup()
		return nil, nil, err
	}
	roleRepo := &dao.RoleRepo{
		DB: db,
	}
	menuActionResourceRepo := &dao.MenuActionResourceRepo{
		DB: db,
	}
	casbinx := &rbac.Casbinx{
		Cache:                  cacher,
		RoleRepo:               roleRepo,
		MenuActionResourceRepo: menuActionResourceRepo,
	}
	transRepo := utilx.TransRepo{
		DB: db,
	}
	menuRepo := dao.MenuRepo{
		DB: db,
	}
	menuActionRepo := dao.MenuActionRepo{
		DB: db,
	}
	daoMenuActionResourceRepo := dao.MenuActionResourceRepo{
		DB: db,
	}
	menuBiz := &biz.MenuBiz{
		TransRepo:              transRepo,
		MenuRepo:               menuRepo,
		MenuActionRepo:         menuActionRepo,
		MenuActionResourceRepo: daoMenuActionResourceRepo,
	}
	userRepo := dao.UserRepo{
		DB: db,
	}
	userRoleRepo := dao.UserRoleRepo{
		DB: db,
	}
	daoRoleRepo := dao.RoleRepo{
		DB: db,
	}
	userBiz := &biz.UserBiz{
		TransRepo:    transRepo,
		UserRepo:     userRepo,
		UserRoleRepo: userRoleRepo,
		RoleRepo:     daoRoleRepo,
		Cache:        cacher,
	}
	menuAPI := &api.MenuAPI{
		MenuBiz: menuBiz,
	}
	roleMenuRepo := dao.RoleMenuRepo{
		DB: db,
	}
	roleBiz := &biz.RoleBiz{
		TransRepo:    transRepo,
		RoleRepo:     daoRoleRepo,
		RoleMenuRepo: roleMenuRepo,
		UserRoleRepo: userRoleRepo,
		Cache:        cacher,
	}
	roleAPI := &api.RoleAPI{
		RoleBiz: roleBiz,
	}
	userAPI := &api.UserAPI{
		UserBiz: userBiz,
	}
	daoUserRepo := &dao.UserRepo{
		DB: db,
	}
	daoUserRoleRepo := &dao.UserRoleRepo{
		DB: db,
	}
	daoMenuRepo := &dao.MenuRepo{
		DB: db,
	}
	daoMenuActionRepo := &dao.MenuActionRepo{
		DB: db,
	}
	loginBiz := &biz.LoginBiz{
		Auth:           auther,
		Cache:          cacher,
		UserRepo:       daoUserRepo,
		UserRoleRepo:   daoUserRoleRepo,
		RoleRepo:       roleRepo,
		MenuRepo:       daoMenuRepo,
		MenuActionRepo: daoMenuActionRepo,
	}
	loginAPI := &api.LoginAPI{
		LoginBiz: loginBiz,
	}
	rbacRBAC := &rbac.RBAC{
		DB:       db,
		Casbinx:  casbinx,
		MenuBiz:  menuBiz,
		UserBiz:  userBiz,
		MenuAPI:  menuAPI,
		RoleAPI:  roleAPI,
		UserAPI:  userAPI,
		LoginAPI: loginAPI,
	}
	dictionaryRepo := dao2.DictionaryRepo{
		DB: db,
	}
	dictionaryBiz := &biz2.DictionaryBiz{
		TransRepo:      transRepo,
		DictionaryRepo: dictionaryRepo,
	}
	dictionaryAPI := &api2.DictionaryAPI{
		DictionaryBiz: dictionaryBiz,
	}
	sysSYS := &sys.SYS{
		DB:            db,
		DictionaryAPI: dictionaryAPI,
	}
	injector := &Injector{
		Auth:  auther,
		Cache: cacher,
		DB:    db,
		RBAC:  rbacRBAC,
		SYS:   sysSYS,
	}
	return injector, func() {
		cleanup3()
		cleanup2()
		cleanup()
	}, nil
}
